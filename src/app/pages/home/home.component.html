<section class="hero">
  <div class="container">
    <div class="copy">
      <h1>925 Sterling Silver Jewellery</h1>
      <p>Handcrafted 925 silver with rhodium finish - hypoallergenic, everyday shine.</p>
      <div class="cta">
        <a routerLink="/collections" class="btn primary">Shop Collections</a>
      </div>
    </div>
    <div class="hero-image" aria-hidden="true">
      <img *ngIf="heroImage() as heroImg" [src]="heroImg" alt="Featured piece" width="800" height="1000" decoding="async" fetchpriority="high" />
    </div>
  </div>
  <div class="ornament" aria-hidden="true"></div>
</section>

<!-- Supplier empty notice -->
<section class="notice" *ngIf="productService.supplierEmpty() && !hideSupplierNotice()">
  <div class="container">
    <div class="bar">
      <span>We couldn't fetch live products from the supplier just now. Please try again in a moment.</span>
      <button class="btn" (click)="hideSupplierNotice.set(true)">Dismiss</button>
    </div>
  </div>
  </section>

<!-- Shop by Price -->
<section class="section by-price">
  <div class="container">
    <h2 class="center">Shop by Price</h2>
    <div class="tiles">
      <a class="tile" appInView [routerLink]="['/collections']" [queryParams]="{ max: 999 }">Under &#8377;1,999</a>
      <a class="tile" appInView [routerLink]="['/collections']" [queryParams]="{ max: 11999 }">Under &#8377;11,999</a>
      <a class="tile" appInView [routerLink]="['/collections']" [queryParams]="{ max: 12999 }">Under &#8377;12,999</a>
      <a class="tile" appInView [routerLink]="['/collections']" [queryParams]="{ tag: 'gift' }">Premium Gifts</a>
    </div>
  </div>
</section>

<section class="section">
  <div class="container">
    <div class="section-head">
      <h2>Featured Pieces</h2>
      <a routerLink="/collections" class="link">View all</a>
    </div>
    <div class="grid">
      <ng-container *ngIf="productService.status() === 'loading'">
        <app-skeleton-card *ngFor="let i of [1,2,3,4,5,6,7,8]"></app-skeleton-card>
      </ng-container>
      <ng-container *ngIf="productService.status() !== 'loading' && (productService.products()?.length || 0) > 0; else noLive">
        <app-product-card *ngFor="let p of featuredProducts() | slice:0:8" [product]="p" [featured]="isPinned(p.slug)" />
      </ng-container>
      <ng-template #noLive>
        <div class="empty">No live products found from supplier right now. Please try again shortly.</div>
      </ng-template>
    </div>
  </div>
</section>

<!-- Trust bar under hero -->
<!-- Recently Viewed (mobile-first; shows after the user visits any PDP) -->
<section class="section recent" *ngIf="recent().length">
  <div class="container">
    <div class="section-head">
      <h2>Recently Viewed</h2>
      <a routerLink="/collections" class="link">Continue shopping</a>
    </div>
    <div class="grid scroll">
      <app-product-card *ngFor="let p of recent()" [product]="p" />
    </div>
  </div>
</section>

<section class="section categories">
  <div class="container">
    <div class="section-head">
      <h2>Shop by Category</h2>
      <a routerLink="/categories" class="link">Browse all</a>
    </div>
    <div class="cat-grid snap">
      <a routerLink="/collections" class="cat" appInView aria-label="Necklaces">
        <img *ngIf="catThumbs()['Necklaces'] as t" [src]="t" alt="Necklaces" loading="lazy" decoding="async" width="600" height="450" sizes="(max-width: 900px) 80vw, 25vw" />
        <span>Necklaces</span>
      </a>
      <a routerLink="/collections" class="cat" appInView aria-label="Earrings">
        <img *ngIf="catThumbs()['Earrings'] as t" [src]="t" alt="Earrings" loading="lazy" decoding="async" width="600" height="450" sizes="(max-width: 900px) 80vw, 25vw" />
        <span>Earrings</span>
      </a>
      <a routerLink="/collections" class="cat" appInView aria-label="Bracelets">
        <img *ngIf="catThumbs()['Bracelets'] as t" [src]="t" alt="Bracelets" loading="lazy" decoding="async" width="600" height="450" sizes="(max-width: 900px) 80vw, 25vw" />
        <span>Bracelets</span>
      </a>
      <a routerLink="/collections" class="cat" appInView aria-label="Rings">
        <img *ngIf="catThumbs()['Rings'] as t" [src]="t" alt="Rings" loading="lazy" decoding="async" width="600" height="450" sizes="(max-width: 900px) 80vw, 25vw" />
        <span>Rings</span>
      </a>
      <a [routerLink]="['/collections']" [queryParams]="{ category: 'Anklets' }" class="cat" appInView aria-label="Anklets">
        <img *ngIf="catThumbs()['Anklets'] as t" [src]="t" alt="Anklets" loading="lazy" decoding="async" width="600" height="450" sizes="(max-width: 900px) 80vw, 25vw" />
        <span>Anklets</span>
      </a>
    </div>
  </div>
</section>

<!-- One from each category -->
<section class="section" *ngIf="(fromEachCategory() || []).length">
  <div class="container">
    <div class="section-head">
      <h2>From Each Category</h2>
      <a routerLink="/collections" class="link">Browse all</a>
    </div>
    <div class="grid">
      <ng-container *ngFor="let entry of fromEachCategory()">
        <app-product-card [product]="entry[1]"></app-product-card>
      </ng-container>
    </div>
  </div>
 </section>

<!-- Brand Story / Editorial band -->
<section class="story">
  <div class="container">
    <div class="collage">
      <img *ngFor="let img of editorialImages()" [src]="img" alt="Editorial" />
    </div>
    <div class="copy">
      <div class="eyebrow">Jewellery for women who are</div>
      <h2>Destined for Greatness</h2>
      <p>Inspired by timeless Indian motifs, crafted for modern life. Subtle golds, elegant silhouettes, and everyday comfort - made to move with you.</p>
      <a routerLink="/collections" class="btn primary">Shop Now</a>
    </div>
  </div>
</section>

<!-- Testimonials -->
<section class="section testimonials">
  <div class="container">
    <h2 class="center">Testimonials</h2>
    <div class="wrap">
      <div class="card" appInView>
        <div class="stars">&#9733;&#9733;&#9733;&#9733;&#9733;</div>
        <p>&ldquo;Beautiful jewellery, excellent quality. Adds charm to any event!&rdquo;</p>
        <div class="name">&mdash; Vanshika Sharma</div>
      </div>
      <div class="card" appInView>
        <div class="stars">&#9733;&#9733;&#9733;&#9733;&#9733;</div>
        <p>&ldquo;Gorgeous designs and top-notch finish. Highly recommended!&rdquo;</p>
        <div class="name">&mdash; Erum Hayat</div>
      </div>
      <div class="card" appInView>
        <div class="stars">&#9733;&#9733;&#9733;&#9733;&#9733;</div>
        <p>&ldquo;Amazing value and quick delivery. My new favourite store.&rdquo;</p>
        <div class="name">&mdash; Sanya Arora</div>
      </div>
    </div>
  </div>
</section>

<!-- Newsletter -->
<section class="newsletter">
  <div class="container">
    <h2>Sign up and save</h2>
    <p>Get special offers, free giveaways and once-in-a-lifetime deals.</p>
    <form class="form" (submit)="subscribe($event)">
      <input type="email" placeholder="Enter your email" [value]="email()" (input)="email.set($any($event.target).value)" required />
      <button class="btn primary" [disabled]="status()==='sending'">{{ status()==='ok' ? 'Subscribed' : (status()==='sending' ? 'Subscribing...' : 'Subscribe') }}</button>
    </form>
    <div class="msg ok" *ngIf="status()==='ok'">Thanks! You're on the list.</div>
    <div class="msg err" *ngIf="status()==='error'">Please try again in a moment.</div>
  </div>
</section>



